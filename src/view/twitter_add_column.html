{% load i18n %}{% if accounts %}<p>	<label for="account_name">{% trans "Please select an account." %}	<a href="oauth/twitter/request" target="_blank" class="twitter-add-account">{% trans "Add Another Account" %}</a></label>	<select name="account_name" id="twitter-name">		{% for account in accounts %}		<option value="{{account.account_name}}">{{account.account_name}}</option>		{% endfor %}	</select></p><p id="twitter-type">	<label>{% trans "Please select the type of timeline." %}</label>	<label style="display:inline;"><input type="radio" name="twitter-type" value="twitter-feed" checked="checked">{% trans "Feed" %}</label>	<label style="display:inline;"><input type="radio" name="twitter-type" value="twitter-list">{% trans "List" %}</label>	<label style="display:inline;"><input type="radio" name="twitter-type" value="twitter-search">{% trans "Search" %}</label></p><div id="twitter-message-select"><p id="twitter-feed">	<label for="type">{% trans "Select the type of feed." %}</label>	<select name="type">		<option value="home_timeline">Home</option>		<option value="user_timeline">Sent</option>		<option value="mentions">Mentions</option>		<option value="direct_messages">Direct Messages</option>		<option value="direct_messages/sent">Direct Messages Sent</option>		<option value="favorites">Favorites</option>	</select></p><p id="twitter-list" style="display:none;">	<label for="list">{% trans "Select the list." %}</label>	<select name="list">	</select></p><p id="twitter-search" style="display:none;">	<label for="search">{% trans "Enter a search term." %}</label>	<input name="search"></p></div><div style="clear:all"></div><script type="text/javascript">var selectedTwitterType = "twitter-feed";$("#twitter-type :radio").click(function(){	selectedTwitterType = $(this).val();	$("#twitter-message-select p").hide();	$("#"+selectedTwitterType).show();	if(selectedTwitterType == "twitter-list"){		var accountName = $("#twitter-name option:selected").val();		var listSelect = $("#twitter-list select")			.attr("disabled","disabled").empty()			.append($("<option/>").text("Loading..."));		$.get("twitter/lists/"+accountName, {}, function(data){			listSelect.empty().removeAttr("disabled");			$.each(data, function(){				$("<option/>").val("list"+this.uri).text(this.full_name).appendTo(listSelect);			});		});	}});function getColumnInfo(){	var accountName = $("#twitter-name option:selected").val(),		name, type, typeName, accountLabel;	if(selectedTwitterType == "twitter-search"){		typeName = $("#twitter-search input").val();		type = "search/"+typeName;		name = typeName+"/Search";		accountLabel = accountName;	}else{		type = $("#"+selectedTwitterType+" select option:selected").val();		typeName = $("#"+selectedTwitterType+" select option:selected").text();		name = typeName;	}	var info = {		"name": name,		"service": "twitter",		"account_name": accountName,		"account_label": accountLabel || accountName,		"type": type	}	if(type == 'mentions' || type == 'direct_messages')		info.notification = true;	return info;}</script>{% else %}<p>{% trans "There is no account of Twitter." %}</p><p><a href="oauth/twitter/request" target="_blank" id="twitter-link">{% trans "Add Account" %}</a></p><script type="text/javascript">$("#twitter-link").button();</script>{% endif %}
